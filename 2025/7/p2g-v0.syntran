#include("../../utils.syntran");
let g = read_char_mat("input.txt");
let nx = size(g, 0);
let ny = size(g, 1);
let ig = [0'i64; nx, ny];
for y in [1: ny]
for x in [0: nx]
{
	if g[x, y-1] == "S"
		ig[x, y-1] = 1;
	if ig[x, y-1]>0 and g[x, y-1] != "^"
		ig[x, y] = ig[x, y-1];
	if x-1 >= 0
		if g[x-1, y] == "^"
			if ig[x-1, y-1]>0
				ig[x,y] += ig[x-1, y-1];
	if x+1 < nx
		if g[x+1, y] == "^"
			if ig[x+1, y-1]>0
				ig[x,y] += ig[x+1, y-1];
}
println(sum(ig[:, ny-1]));
